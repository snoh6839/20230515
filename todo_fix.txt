<?php

namespace application\model;

use Exception;

class AnimeModel extends Model
{
    public function getDetail($arr)
    {
        $sql =
            " SELECT "
            . " * "
            . " FROM "
            . " anime_data "
            . " WHERE "
            . " anime_category = :anime_category "
            . " ORDER BY "
            . " views "
            . " DESC ";
        // ." LIMIT "
        // ." :limit_num";
        $prepare = [
            // ":anime_no" => $arr["anime_no"],
            ":anime_category" => $arr["anime_category"]
        ];
        try {
            $stmt = $this->conn->prepare($sql);
            $stmt->execute($prepare);
            $result = $stmt->fetchAll();
            return $result; // Return the query results
        } catch (Exception $e) {
            throw new Exception("AnimeModel -> getAnime Error: " . $e->getMessage());
        }
    }
}
<?php

namespace application\controller;

use application\model\AnimeModel;

class AnimeController extends Controller
{
    private $animeModel;

    public function __construct()
    {
        $this->animeModel = new AnimeModel();
    }

    public function detailGet()
    {
        return "detail" . _EXTENTION_PHP;
    }

    public function mainGet()
    {
        return "main" . _EXTENTION_PHP;
    }

    public function animeDetailsGet()
    {
        $arrGet = $_GET;
        $arrGet['anime_category'] = 'hero';
        $animeDetails = $this->animeModel->getDetail($arrGet);
        return $animeDetails;
    }

    public function watchingGet()
    {
        return "watching" . _EXTENTION_PHP;
    }
}
<?php foreach ($this->animeDetailsGet() as $record) { ?>
    <div class="hero__items set-bg" data-setbg="/img/hero/hero-<?php echo $record["anime_no"] ?>.jpg">
        <div class="row">
            <div class="col-lg-6">
                <div class="hero__text">
                    <h2><?php echo $record["anime_name"] ?></h2>
                    <p><?php echo $record["anime_description"] ?></p>
                    <a href="/anime/detail.php?anime_no=<?php echo $record["anime_no"] ?>"><span>View Detail</span> <i class="fa fa-angle-right"></i></a>
                </div>
            </div>
        </div>
    </div>
<?php } ?>
